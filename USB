import pyudev

def get_usb_address():
    context = pyudev.Context()
    for device in context.list_devices(subsystem='block', DEVTYPE='disk'):
        if 'ID_BUS' in device and device['ID_BUS'] == 'usb':
            for partition in device.get_all_partitions():
                if partition.mountpoint and partition.mountpoint.startswith('/media/pi'):
                    return partition.mountpoint

    return None

# Exemple d'utilisation
adresseUSB = get_usb_address()
if adresseUSB is not None:
    print("Adresse de la clé USB :", adresseUSB)
else:
    print("Impossible d'accéder au chemin de la clé USB.")
